var SIPUSlider=function(t,e,a){"use strict";function n(){for(var t=[],e=document.getElementsByTagName("*"),a=0;a<e.length;a++)if(e[a].attributes.length>0)for(var n=e[a].attributes,i=0;i<n.length;i++){
var o=n[i].name.split("-");"data"===o[0]&&"sipu"===o[1]&&t.push(e[a])}return t}function i(){for(var t=[],e=S,a=0;a<e.length;a++)if(e[a].attributes.length>0)for(var n=e[a].attributes,i=0;i<n.length;i++){
var o=n[i].name.split("-");if("data"===o[0]&&"sipu"===o[1]){var s=n[i].nodeValue;t.indexOf(s)===-1&&t.push(s)}}return t}function o(){for(var t=0;t<c.length;t++)f.push(N),
f[t].SetAttrVal=c[t],f[t].Index=t,f[t].init()}function s(t){if(f[t].SetAttrVal.length>0)for(var e=0;e<S.length;e++)S[e].getAttribute("data-sipu-canvas")===f[t].SetAttrVal&&(f[t].CanvasNode=S[e]),
S[e].getAttribute("data-sipu-images")===f[t].SetAttrVal&&(f[t].ImageListNode=S[e]),S[e].getAttribute("data-sipu-playbutton")===f[t].SetAttrVal&&(f[t].PlayButtonNode=S[e]),
S[e].getAttribute("data-sipu-stopbutton")===f[t].SetAttrVal&&(f[t].StopButtonNode=S[e]),S[e].getAttribute("data-sipu-range")===f[t].SetAttrVal&&(f[t].RangeNode=S[e]);
}function l(t){f[t].SetCanvasWidth=f[t].CanvasNode.style.width||640,f[t].SetCanvasHeight=f[t].CanvasNode.style.height||480}function r(t,a){var n=e(f[t].ImageListNode).find("img"),i=0,o=new Array(n.length);
e.each(n,function(e){var s=new Image;s.onload=function(){if(o[e]=s,i++,i===n.length)return f[t].SetImages=o,a(t)},s.src=n[e].src})}function d(t){f[t].RangeNode.value=1,
f[t].RangeNode.setAttribute("min",1),f[t].RangeNode.setAttribute("max",f[t].SetRangeMax),e(f[t].RangeNode).on("change mousemove input",function(){g(f[t].CanvasNode,1,f[t].SetRangeMax,this.value,f[t].SetImages,f[t].SetCanvasHeight,f[t].SetCanvasWidth);
})}function g(t,e,a,n,i,o,s){var l=t.getContext("2d");l.canvas.height=o,l.canvas.width=s,l.imageSmoothingEnabled=!1,l.mozImageSmoothingEnabled=!1;var r=Math.ceil(n/(a/(i.length-1))),d=Math.ceil(n/(a/(i.length-1)))-n/(a/(i.length-1));
l.drawImage(i[r-1],0,0,i[r-1].width,i[r-1].height,0,0,s,o),l.globalAlpha=1-d,l.drawImage(i[r],0,0,i[r].width,i[r].height,0,0,s,o),l.globalAlpha=d}function u(t){e(f[t].PlayButtonNode).click(function(){
if(f[t].OnPlaying===!1){var e=f[t].RangeNode.value;f[t].OnPlaying=!0,f[t].SetPlayInterval=setInterval(function(){f[t].RangeNode.value=e,e++,g(f[t].CanvasNode,1,f[t].SetRangeMax,e,f[t].SetImages,f[t].SetCanvasHeight,f[t].SetCanvasWidth),
e===parseInt(f[t].RangeNode.getAttribute("max"))&&(e=f[t].RangeNode.value,clearInterval(f[t].SetPlayInterval),f[t].OnPlaying=!1)},f[t].OnPlayInterval||20)}})}function h(t){
e(f[t].StopButtonNode).click(function(){f[t].OnPlaying=!1,clearInterval(f[t].SetPlayInterval)})}function v(t){e(f[t].CanvasNode).css("-webkit-transition","all "+f[t].SetFadeTime+"s ease-in-out"),
e(f[t].CanvasNode).css("-moz-transition","all "+f[t].SetFadeTime+"s ease-in-out"),e(f[t].CanvasNode).css("-o-transition","all "+f[t].SetFadeTime+"s ease-in-out"),
e(f[t].CanvasNode).css("transition","all "+f[t].SetFadeTime+"s ease-in-out")}var S,c,f=[],N={Index:-1,SetAttrVal:"",SetFadeTime:.5,SetRangeMax:255,SetCanvasHeight:600,
SetCanvasWidth:800,SetPlayInterval:50,SetImages:"",CanvasNode:"",ImageListNode:"",PlayButtonNode:"",StopButtonNode:"",RangeNode:"",OnPlaying:!1,OnPlayInterval:"",
SetNode:function(){s(this.Index)},ValidCheck:function(){if("object"==typeof this.CanvasNode&&"object"==typeof this.ImageListNode&&"object"==typeof this.PlayButtonNode&&"object"==typeof this.StopButtonNode&&"object"==typeof this.RangeNode)return!0;
},init:function(){if(this.SetNode(),this.ValidCheck()){this.ImageListNode.style.display="none";var t=function(t){l(t),v(t),d(t),u(t),h(t),g(f[t].CanvasNode,1,f[t].SetRangeMax,1,f[t].SetImages,f[t].SetCanvasHeight,f[t].SetCanvasWidth);
};this.SetImages=r(this.Index,t)}else console.log("Failed Build "+this.SetAttrVal)}};return t.run=function(){S=n(),c=i(),o()},t}(window.SIPUSlider||{},jQuery);SIPUSlider.run();